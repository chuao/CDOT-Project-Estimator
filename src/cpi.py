def to_2017(dollars, date):
    import pandas as pd
    cpi = {  '2004-01-01': 186.3,
             '2004-02-01': 186.7,
             '2004-03-01': 187.1,
             '2004-04-01': 187.4,
             '2004-05-01': 188.2,
             '2004-06-01': 188.9,
             '2004-07-01': 189.1,
             '2004-08-01': 189.2,
             '2004-09-01': 189.8,
             '2004-10-01': 190.8,
             '2004-11-01': 191.7,
             '2004-12-01': 191.7,
             '2005-01-01': 191.6,
             '2005-02-01': 192.4,
             '2005-03-01': 193.1,
             '2005-04-01': 193.7,
             '2005-05-01': 193.6,
             '2005-06-01': 193.7,
             '2005-07-01': 194.9,
             '2005-08-01': 196.1,
             '2005-09-01': 198.8,
             '2005-10-01': 199.1,
             '2005-11-01': 198.1,
             '2005-12-01': 198.1,
             '2006-01-01': 199.3,
             '2006-02-01': 199.4,
             '2006-03-01': 199.7,
             '2006-04-01': 200.7,
             '2006-05-01': 201.3,
             '2006-06-01': 201.8,
             '2006-07-01': 202.9,
             '2006-08-01': 203.8,
             '2006-09-01': 202.8,
             '2006-10-01': 201.9,
             '2006-11-01': 202.0,
             '2006-12-01': 203.1,
             '2007-01-01': 203.437,
             '2007-02-01': 204.226,
             '2007-03-01': 205.288,
             '2007-04-01': 205.904,
             '2007-05-01': 206.755,
             '2007-06-01': 207.234,
             '2007-07-01': 207.603,
             '2007-08-01': 207.667,
             '2007-09-01': 208.547,
             '2007-10-01': 209.19,
             '2007-11-01': 210.834,
             '2007-12-01': 211.445,
             '2008-01-01': 212.174,
             '2008-02-01': 212.687,
             '2008-03-01': 213.448,
             '2008-04-01': 213.942,
             '2008-05-01': 215.208,
             '2008-06-01': 217.463,
             '2008-07-01': 219.016,
             '2008-08-01': 218.69,
             '2008-09-01': 218.877,
             '2008-10-01': 216.995,
             '2008-11-01': 213.153,
             '2008-12-01': 211.398,
             '2009-01-01': 211.933,
             '2009-02-01': 212.705,
             '2009-03-01': 212.495,
             '2009-04-01': 212.709,
             '2009-05-01': 213.022,
             '2009-06-01': 214.79,
             '2009-07-01': 214.726,
             '2009-08-01': 215.445,
             '2009-09-01': 215.861,
             '2009-10-01': 216.509,
             '2009-11-01': 217.234,
             '2009-12-01': 217.347,
             '2010-01-01': 217.488,
             '2010-02-01': 217.281,
             '2010-03-01': 217.353,
             '2010-04-01': 217.403,
             '2010-05-01': 217.29,
             '2010-06-01': 217.199,
             '2010-07-01': 217.605,
             '2010-08-01': 217.923,
             '2010-09-01': 218.275,
             '2010-10-01': 219.035,
             '2010-11-01': 219.59,
             '2010-12-01': 220.472,
             '2011-01-01': 221.187,
             '2011-02-01': 221.898,
             '2011-03-01': 223.046,
             '2011-04-01': 224.093,
             '2011-05-01': 224.806,
             '2011-06-01': 224.806,
             '2011-07-01': 225.395,
             '2011-08-01': 226.106,
             '2011-09-01': 226.597,
             '2011-10-01': 226.75,
             '2011-11-01': 227.169,
             '2011-12-01': 227.223,
             '2012-01-01': 227.842,
             '2012-02-01': 228.329,
             '2012-03-01': 228.807,
             '2012-04-01': 229.187,
             '2012-05-01': 228.713,
             '2012-06-01': 228.524,
             '2012-07-01': 228.59,
             '2012-08-01': 229.918,
             '2012-09-01': 231.015,
             '2012-10-01': 231.638,
             '2012-11-01': 231.249,
             '2012-12-01': 231.221,
             '2013-01-01': 231.679,
             '2013-02-01': 232.937,
             '2013-03-01': 232.282,
             '2013-04-01': 231.797,
             '2013-05-01': 231.893,
             '2013-06-01': 232.445,
             '2013-07-01': 232.9,
             '2013-08-01': 233.456,
             '2013-09-01': 233.544,
             '2013-10-01': 233.669,
             '2013-11-01': 234.1,
             '2013-12-01': 234.719,
             '2014-01-01': 235.347,
             '2014-02-01': 235.522,
             '2014-03-01': 235.956,
             '2014-04-01': 236.463,
             '2014-05-01': 236.867,
             '2014-06-01': 237.188,
             '2014-07-01': 237.485,
             '2014-08-01': 237.439,
             '2014-09-01': 237.452,
             '2014-10-01': 237.447,
             '2014-11-01': 237.042,
             '2014-12-01': 236.27,
             '2015-01-01': 234.836,
             '2015-02-01': 235.274,
             '2015-03-01': 235.956,
             '2015-04-01': 236.165,
             '2015-05-01': 236.952,
             '2015-06-01': 237.618,
             '2015-07-01': 237.993,
             '2015-08-01': 237.989,
             '2015-09-01': 237.467,
             '2015-10-01': 237.764,
             '2015-11-01': 238.072,
             '2015-12-01': 237.827,
             '2016-01-01': 237.99,
             '2016-02-01': 237.532,
             '2016-03-01': 238.022,
             '2016-04-01': 238.843,
             '2016-05-01': 239.439,
             '2016-06-01': 240.074,
             '2016-07-01': 240.058,
             '2016-08-01': 240.569,
             '2016-09-01': 241.017,
             '2016-10-01': 241.667,
             '2016-11-01': 242.081,
             '2016-12-01': 242.784,
             '2017-01-01': 244.028,
             '2017-02-01': 244.102,
             '2017-03-01': 243.717,
             '2017-04-01': 244.087,
             '2017-05-01': 243.911,
             '2017-06-01': 244.032,
             '2017-07-01': 244.236,
             '2017-08-01': 245.262,
             '2017-09-01': 246.392,
             '2017-10-01': 246.583,
             '2017-11-01': 247.411,
             '2017-12-01': 247.91}

    cpi_dec_2017 = cpi['2017-12-01']
    cpi_source = cpi[date]
    return dollars * cpi_dec_2017 / cpi_source
